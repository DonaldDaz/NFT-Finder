{"ast":null,"code":"var _jsxFileName = \"/Users/davidazzato/Desktop/Tesi/Capitolo 3/WebApp/Prova Flask+React/FlaskreactProject/client/src/context.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { useCallback } from \"react\";\nconst url = \"http://127.0.0.1:5000/nft\";\nconst AppContext = React.createContext();\nconst AppProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const [nfts, setNfts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [nftInput, setNftInput] = useState(\"\");\n  const [searchPressed, setSearchPressed] = useState(false);\n\n  /*const getInitialNfts = async () => {\n    try {\n      const response = await fetch(url + \"nft\");\n      const data = await response.json();\n      // console.log(data.drinks);\n      setIsLoading(false);\n      setNfts(data.elements);\n    } catch (error) {\n      console.log(error);\n    }\n  };*/\n  const getNewNfts = async () => {\n    try {\n      const response = await fetch(url + \"?description=\" + nftInput);\n      const data = await response.json();\n      // console.log(data.drinks);\n      setIsLoading(false);\n      setNfts(data.elements);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    setIsLoading(true);\n    getNewNfts();\n  }, [searchPressed]);\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: {\n      nfts,\n      setNftInput,\n      isLoading,\n      nftInput,\n      setSearchPressed,\n      searchPressed\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, children);\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\nexport { AppContext, AppProvider };","map":{"version":3,"names":["React","useState","useContext","useEffect","useCallback","url","AppContext","createContext","AppProvider","children","nfts","setNfts","isLoading","setIsLoading","nftInput","setNftInput","searchPressed","setSearchPressed","getNewNfts","response","fetch","data","json","elements","error","console","log","useGlobalContext"],"sources":["/Users/davidazzato/Desktop/Tesi/Capitolo 3/WebApp/Prova Flask+React/FlaskreactProject/client/src/context.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { useCallback } from \"react\";\n\nconst url = \"http://127.0.0.1:5000/nft\";\nconst AppContext = React.createContext();\n\nconst AppProvider = ({ children }) => {\n  const [nfts, setNfts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [nftInput, setNftInput] = useState(\"\");\n  const [searchPressed, setSearchPressed] = useState(false);\n  \n\n  /*const getInitialNfts = async () => {\n    try {\n      const response = await fetch(url + \"nft\");\n      const data = await response.json();\n      // console.log(data.drinks);\n      setIsLoading(false);\n      setNfts(data.elements);\n    } catch (error) {\n      console.log(error);\n    }\n  };*/\n  const getNewNfts = async () => {\n    try {\n      const response = await fetch(url + \"?description=\"+nftInput);\n      const data = await response.json();\n      // console.log(data.drinks);\n      setIsLoading(false);\n      setNfts(data.elements);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    getNewNfts();\n  }, [searchPressed]);\n\n\n  return (\n    <AppContext.Provider\n      value={{\n        nfts,\n        setNftInput,\n        isLoading,\n        nftInput,\n        setSearchPressed,\n        searchPressed\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,OAAO;AAEnC,MAAMC,GAAG,GAAG,2BAA2B;AACvC,MAAMC,UAAU,GAAGN,KAAK,CAACO,aAAa,EAAE;AAExC,MAAMC,WAAW,GAAG,QAAkB;EAAA,IAAjB;IAAEC;EAAS,CAAC;EAC/B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,aAAa,EAAEC,gBAAgB,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;;EAGzD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMiB,UAAU,GAAG,YAAY;IAC7B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACf,GAAG,GAAG,eAAe,GAACS,QAAQ,CAAC;MAC5D,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;MAClC;MACAT,YAAY,CAAC,KAAK,CAAC;MACnBF,OAAO,CAACU,IAAI,CAACE,QAAQ,CAAC;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EAEDrB,SAAS,CAAC,MAAM;IACdU,YAAY,CAAC,IAAI,CAAC;IAClBK,UAAU,EAAE;EACd,CAAC,EAAE,CAACF,aAAa,CAAC,CAAC;EAGnB,oBACE,oBAAC,UAAU,CAAC,QAAQ;IAClB,KAAK,EAAE;MACLN,IAAI;MACJK,WAAW;MACXH,SAAS;MACTE,QAAQ;MACRG,gBAAgB;MAChBD;IACF,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEDP,QAAQ,CACW;AAE1B,CAAC;AACD;AACA,OAAO,MAAMkB,gBAAgB,GAAG,MAAM;EACpC,OAAOzB,UAAU,CAACI,UAAU,CAAC;AAC/B,CAAC;AAED,SAASA,UAAU,EAAEE,WAAW"},"metadata":{},"sourceType":"module"}