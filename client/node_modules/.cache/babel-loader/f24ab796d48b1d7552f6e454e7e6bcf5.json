{"ast":null,"code":"var _jsxFileName = \"/Users/davidazzato/Desktop/Tesi/Capitolo 3/WebApp/Prova Flask+React/FlaskreactProject/client/src/pages/SingleNft.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Loading from \"../components/Loading\";\nimport ImageSlider from \"../components/ImageSlider\";\nimport { useParams, Link } from \"react-router-dom\";\nconst url = \"http://127.0.0.1:5000/nftDetails?id=\";\n\nconst SingleNft = () => {\n  const {\n    Id\n  } = useParams();\n  const [singleNft, setSingleNft] = useState(null);\n  const [similarNfts, setSimilarNfts] = useState([]);\n  const [showedNfts, setShowedNfts] = useState([]);\n  const [indexes, setIndexes] = useState([]);\n\n  const getSingleNft = async () => {\n    const response = await fetch(url + Id);\n    const data = await response.json();\n    setSingleNft(data[\"nft\"]);\n    setSimilarNfts(data[\"similars\"]);\n    setShowedNfts(data[\"similars\"].slice(0, 4));\n    setIndexes([0, 4]);\n  };\n\n  useEffect(() => {\n    getSingleNft();\n  }, []);\n\n  if (!singleNft) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 12\n      }\n    });\n  }\n\n  const {\n    similarityScore,\n    base64Img,\n    category,\n    coco_url,\n    collection,\n    date_captured,\n    file_name,\n    file_path,\n    flickr_url,\n    generated_caption,\n    height,\n    id,\n    license,\n    original_caption,\n    similarity,\n    width\n  } = singleNft;\n  const originalCaptionView = original_caption.length > 500 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 62\n    }\n  }, original_caption.substring(0, 499), \" ...\") : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 110\n    }\n  }, original_caption);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, singleNft && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab-back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"back home\")), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"section nftDetails-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nftDetails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `data:image/jpeg;base64,${base64Img}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nft-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"nftDetails-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }, \"Description :\"), generated_caption), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"nftDetails-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }\n  }, \"Category :\"), category), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"nftDetails-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, \"Collection :\"), collection), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"nftDetails-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  }, \"Original Caption :\"), original_captionView), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"nftDetails-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }, \"Size :\"), height, \" x \", width, \" Pixels\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"nftDetails-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, \"License Type:\"), license)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"similar-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Similar NFTs\"), /*#__PURE__*/React.createElement(ImageSlider, {\n    list: similarNfts,\n    showed: showedNfts,\n    updateShowed: setShowedNfts,\n    indexes: indexes,\n    updateIndexes: setIndexes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default SingleNft;","map":{"version":3,"sources":["/Users/davidazzato/Desktop/Tesi/Capitolo 3/WebApp/Prova Flask+React/FlaskreactProject/client/src/pages/SingleNft.js"],"names":["React","useState","useEffect","Loading","ImageSlider","useParams","Link","url","SingleNft","Id","singleNft","setSingleNft","similarNfts","setSimilarNfts","showedNfts","setShowedNfts","indexes","setIndexes","getSingleNft","response","fetch","data","json","slice","similarityScore","base64Img","category","coco_url","collection","date_captured","file_name","file_path","flickr_url","generated_caption","height","id","license","original_caption","similarity","width","originalCaptionView","length","substring","original_captionView"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Loading from \"../components/Loading\";\nimport ImageSlider from \"../components/ImageSlider\"\nimport { useParams, Link } from \"react-router-dom\";\n\n\nconst url = \"http://127.0.0.1:5000/nftDetails?id=\";\n\nconst SingleNft = () => {\n  const { Id } = useParams();\n\n  const [singleNft, setSingleNft] = useState(null);\n  const [similarNfts, setSimilarNfts] = useState([]);\n  const [showedNfts, setShowedNfts] = useState([]);\n  const [indexes, setIndexes] = useState([])\n\n  const getSingleNft = async () => {\n    const response = await fetch(url + Id);\n    const data = await response.json();\n    setSingleNft(data[\"nft\"]);\n    setSimilarNfts(data[\"similars\"])\n    setShowedNfts(data[\"similars\"].slice(0,4))\n    setIndexes([0,4])\n  };\n\n  useEffect(() => {\n    getSingleNft();\n  }, []);\n  if (!singleNft) {\n    return <Loading />;\n  }\n\n  const { similarityScore, base64Img, category, coco_url, collection, date_captured, file_name,\n    file_path, flickr_url, generated_caption, height, id, license,\n    original_caption, similarity, width } = singleNft\n\n  const originalCaptionView = original_caption.length > 500? <p>{original_caption.substring(0, 499)} ...</p>:<p>{original_caption}</p>\n\n\n  return (\n    <>\n      {singleNft && (\n        <div>\n          <div className=\"tab-back\">\n            <Link to={\"/\"} className=\"btn btn-primary\">\n              back home\n            </Link>\n          </div  >\n          <section className=\"section nftDetails-section\">\n            <h2></h2>\n            <div className=\"nftDetails\">\n              <img src={`data:image/jpeg;base64,${base64Img}`} />\n              <div className=\"nft-info\">\n                <p>\n                  <span className=\"nftDetails-data\">Description :</span>\n                  {generated_caption}\n                </p>\n                <p>\n                  <span className=\"nftDetails-data\">Category :</span>\n                  {category}\n                </p>\n                <p>\n                  <span className=\"nftDetails-data\">Collection :</span>\n                  {collection}\n                </p>\n                <p>\n                  <span className=\"nftDetails-data\">Original Caption :</span>\n                  {original_captionView}\n                </p>\n                <p>\n                  <span className=\"nftDetails-data\">Size :</span>\n                  {height} x {width} Pixels\n                </p>\n                <p>\n                  <span className=\"nftDetails-data\">License Type:</span>\n                  {license}\n                </p>\n              </div>\n            </div>\n          </section>\n\n          <div className=\"similar-title\">Similar NFTs</div>\n          <ImageSlider list={similarNfts} showed={showedNfts} updateShowed={setShowedNfts} \n          indexes={indexes} updateIndexes={setIndexes}/>\n\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default SingleNft;\n"]},"metadata":{},"sourceType":"module"}